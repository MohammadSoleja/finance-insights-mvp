/* Copied from app_web/static/app_web/styles.css - present in staticfiles so it's available without collectstatic */
:root {
  --brand: #111827; /* default text color */
  --accent: #2563eb; /* primary blue */
  --muted: #6b7280;
  --border: #e5e7eb;
  --bg: #ffffff;
}
* { box-sizing: border-box; }
html, body { margin: 0; padding: 0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; color: var(--brand); background: var(--bg); }
a { color: inherit; text-decoration: none; }

/* Layout wrapper â€” slightly wider for better use of horizontal space */
.wrap { max-width: 1200px; width: 100%; margin: 0 auto; padding: 1rem 2rem; }

/* Header / Nav */
header.site-header { border-bottom: 1px solid var(--border); background: var(--bg); }
.site-nav { display: flex; align-items: center; justify-content: space-between; gap: 1rem; padding: .75rem 0; flex-wrap: wrap; }
.site-brand { font-weight: 700; font-size: 1.05rem; display: flex; align-items: center; gap: .5rem; }
.nav-links { display: flex; gap: .5rem; align-items: center; flex-wrap: wrap; }
.nav-link, .nav-logout { padding: .45rem .65rem; border-radius: .45rem; color: var(--brand); border: 1px solid transparent; background: transparent; cursor: pointer; }
.nav-link:hover, .nav-link:focus, .nav-logout:hover, .nav-logout:focus { outline: none; border-color: var(--border); background: #f9fafb; }
.nav-link[aria-current="page"] { background: var(--accent); color: #fff; border-color: transparent; }
.nav-username { color: var(--muted); font-size: .95rem; margin-left: .5rem; }
.nav-logout { background: transparent; border: 0; padding: .45rem .65rem; cursor: pointer; color: var(--brand); border-radius: .45rem; }
.nav-logout[aria-current="page"] { background: var(--accent); color: #fff; }

/* Buttons used throughout the app */
.btn { padding: .6rem 1rem; border-radius: .65rem; text-decoration: none; display: inline-block; border: 1px solid var(--border); color: var(--brand); background: transparent; }
.btn-primary { background: var(--accent); color: #fff; border-color: transparent; }
.btn-ghost { background: transparent; border: 1px solid var(--border); }

/* Cards and grid */
.card { padding: 1rem; border: 1px solid var(--border); border-radius: 12px; background: #fff; }
.grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; }
@media (max-width: 900px) { .grid { grid-template-columns: 1fr; } }

/* Upload preview table */
.tablewrap { overflow: auto; border:1px solid var(--border); border-radius:8px; }
.preview-table { width: 100%; border-collapse: collapse; }
.preview-table th, .preview-table td { padding: .5rem; border-bottom:1px solid #eee; text-align:left; }
.preview-table thead th { background:#f9fafb; }

/* Utility text */
.muted { color: var(--muted); }
.h1 { font-size: clamp(1.8rem, 3.2vw, 2.6rem); line-height: 1.15; margin: 0 0 .5rem; }

/* Form controls for auth pages */
.auth-card { width: 420px; margin: 2rem auto; padding: 1.25rem; border-radius: 12px; border: 1px solid var(--border); background: #fff; }
.field { margin-bottom: .75rem; }
input[type="text"], input[type="password"], input[type="email"] { width: 100%; padding: .7rem .8rem; border: 1px solid #d1d5db; border-radius: 10px; font-size: 1rem; }
.errorlist { color: #b91c1c; margin: .5rem 0; list-style: none; padding: 0; }

/* Accessibility focus */
:focus { outline: 2px solid rgba(37,99,235,0.15); outline-offset: 2px; }

/* Small screens */
@media (max-width: 560px) { .wrap { padding: .75rem; } .site-brand { font-size: 1rem; } }

/* New: transactions toolbar & form controls */
.toolbar { display: flex; gap: .75rem; align-items: center; margin-bottom: .75rem; flex-wrap: wrap; }
.toolbar .form-input { padding: .6rem .75rem; border: 1px solid var(--border); border-radius: 10px; min-width: 220px; flex: 1 1 220px; }
.field-group { display: flex; flex-direction: column; gap: .25rem; min-width: 140px; }
.form-label { font-size: .85rem; color: var(--muted); }
.form-select { padding: .5rem .6rem; border: 1px solid var(--border); border-radius: 10px; background: #fff; min-width: 120px; }
.toolbar-actions { margin-left: auto; }

/* Date range compact control */
.date-range { display: flex; align-items: center; gap: .5rem; }
/* Make date inputs visually match other form inputs (like Add Transaction / upload's flatpickr) */
.form-date { padding: .6rem .75rem; border: 1px solid var(--border); border-radius: 10px; background: #fff; font-size: 1rem; box-sizing: border-box; }
.date-field { min-width: 220px; }
.date-range { gap: .25rem; }
.date-range .form-date { flex: 1 1 100px; min-width: 90px; }

/* Inline error block for filters */
.inline-errors { color: #b91c1c; background: #fff5f5; border: 1px solid rgba(185,28,28,0.08); padding: .5rem .75rem; border-radius: 8px; font-size: .95rem; }

/* Make toolbar inline on wider screens but wrap on small */
@media (min-width: 700px) {
  .toolbar { flex-wrap: nowrap; }
  .field-group { flex-direction: row; align-items: center; gap: .5rem; }
  .form-select, .form-date { height: 40px; display: inline-flex; align-items: center; }
  /* make the search box a bit smaller so other controls fit on one line */
  .toolbar .form-input { flex: 1 1 300px; min-width: 220px; margin-right: .5rem; }
  /* tighten select sizes to fit inline */
  .form-select { min-width: 100px; padding: .42rem .5rem; }
  .form-date { min-width: 110px; }
  /* set fixed widths for direction and sort controls to ensure one-line layout */
  .dir-field { width: 110px; }
  .sort-field { width: 140px; }
}
@media (max-width: 699px) {
  .toolbar { gap: .5rem; }
  .date-range { gap: .25rem; }
  .toolbar-actions { width: 100%; display:flex; justify-content:flex-end; }
}

/* Pagination row */
.pagination-row { display:flex; justify-content:space-between; align-items:center; gap:1rem; margin-top:1rem; }
.pagination .btn { margin-left: .25rem; }

/* small tweaks */
.mt-1 { margin-top: .75rem; }
.sr-only { position: absolute !important; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); white-space: nowrap; border: 0; }

/* New tweaks to ensure toolbar items fit on one line and date inputs match add-transaction style */
.toolbar { gap: .5rem; }
.toolbar .form-input { padding: .6rem .75rem; border: 1px solid var(--border); border-radius: 10px; min-width: 160px; flex: 1 1 240px; }

/* Make date inputs visually identical to form-input */
.form-date { padding: .6rem .75rem; border: 1px solid var(--border); border-radius: 10px; background: #fff; font-size: 1rem; box-sizing: border-box; }
.date-field { min-width: 220px; }
.date-range { gap: .25rem; }
.date-range .form-date { flex: 1 1 100px; min-width: 90px; }

@media (min-width: 700px) {
  /* reduce overall gaps on desktop and force single-line layout */
  .toolbar { gap: .3rem; }
  .field-group { flex-direction: row; align-items: center; gap: .35rem; }
  /* make the search box smaller so everything fits inline */
  .toolbar .form-input { flex: 1 1 180px; min-width: 140px; }
  /* compact date fields */
  .date-field { min-width: 180px; }
  .date-range .form-date { min-width: 120px; width: 120px; }
  /* compact selects */
  .dir-field { width: 96px; }
  .sort-field { width: 120px; }
   .form-select, .form-date { height: 40px; }
}
@media (min-width: 800px) {
  /* force single-line layout on typical desktop widths */
  .toolbar { flex-wrap: nowrap; gap: .4rem; align-items: center; }

  /* Search: allow shrink but keep reasonable min width */
  .toolbar .form-input { flex: 1 1 320px; min-width: 160px; margin-right: .5rem; }

  /* Date range: keep compact fixed space */
  .date-field { flex: 0 0 220px; min-width: 180px; }
  .date-range { gap: .35rem; }
  .date-range .form-date { width: 110px; min-width: 100px; }

  /* Compact selects with fixed widths so they don't push the Apply button */
  .dir-field { flex: 0 0 96px; }
  .sort-field { flex: 0 0 120px; }

  /* Keep the apply button visible and not wrapping */
  .toolbar-actions { flex: 0 0 auto; margin-left: .5rem; }
  .toolbar .btn { white-space: nowrap; }
}
@media (min-width: 900px) {
  /* force single-line layout on wider screens */
  .toolbar { flex-wrap: nowrap; gap: .35rem; }
  .toolbar .form-input { flex: 1 1 160px; min-width: 120px; }
  .date-field { min-width: 200px; }
  .date-range .form-date { width: 120px; min-width: 120px; }
  .dir-field { width: 88px; }
  .sort-field { width: 110px; }
  .toolbar-actions { margin-left: 6px; }
  .toolbar .btn { padding: .5rem .75rem; font-size: .95rem; }
}

/* Transactions toolbar overrides - final (ensures single-line layout on desktop and responsive wrap on small screens) */
@media (min-width: 800px) {
  .toolbar { flex-wrap: nowrap !important; gap: .35rem !important; align-items: center !important; }
  /* Search input: grow/shrink but keep a sensible min width */
  .toolbar .form-input { flex: 1 1 280px !important; min-width: 140px !important; margin-right: .5rem !important; }
  /* Date range: fixed small block */
  .date-field { flex: 0 0 220px !important; min-width: 160px !important; }
  .date-range { gap: .35rem !important; }
  .date-range .form-date { width: 110px !important; min-width: 100px !important; }
  /* Compact selects with fixed width so they don't push Apply */
  .dir-field { flex: 0 0 96px !important; }
  .sort-field { flex: 0 0 120px !important; }
  /* Keep Apply visible */
  .toolbar-actions { flex: 0 0 auto !important; margin-left: .5rem !important; }
  .toolbar .btn { white-space: nowrap !important; }
}

@media (max-width: 799px) {
  /* allow wrapping on small screens */
  .toolbar { flex-wrap: wrap !important; gap: .5rem !important; }
  .toolbar .form-input { flex: 1 1 100% !important; min-width: 0 !important; }
  /* make controls take half width where possible */
  .date-field, .dir-field, .sort-field { flex: 1 1 48% !important; min-width: 140px !important; }
  .toolbar-actions { width: 100%; display: flex; justify-content: flex-end; }
}

/* Emergency override: force the toolbar into a 6-column grid on most non-mobile screens */
@media (min-width: 480px) {
  .toolbar { display: grid !important; grid-template-columns: minmax(200px, 1fr) 120px 120px 96px 120px auto !important; gap: .5rem !important; align-items: center !important; }
  .toolbar > * { margin: 0 !important; }
  .toolbar .form-input { width: 100% !important; flex: none !important; }
  .start-field, .end-field, .dir-field, .sort-field, .toolbar-actions { display: block !important; }
  .toolbar-actions { justify-self: end !important; }
}

/* Final: force toolbar into a CSS grid on desktop so controls line up exactly as requested */
@media (min-width: 800px) {
  /* columns: Search | Start | End | Direction | Sort | Apply */
  .toolbar { display: grid !important; grid-template-columns: minmax(260px, 1fr) 140px 140px 110px 120px auto; gap: .5rem; align-items: center; }
   /* ensure field-group container doesn't add extra spacing */
   .toolbar .field-group { margin: 0; padding: 0; }
   /* date-range: two inputs side-by-side, fill the date column */
  .date-range { display:flex; gap: .35rem; align-items:center; }
  .date-range .form-date { flex: 1 1 0; width: 100%; }
   /* make selects and button align properly */
   .dir-field, .sort-field { display: block; }
  .toolbar-actions { justify-self: end; }
}

/* Also apply the grid layout slightly earlier (>=700px) so medium-width windows get the inline layout */
@media (min-width: 700px) {
  .toolbar { display: grid !important; grid-template-columns: minmax(200px, 1fr) 120px 120px 96px 110px auto; gap: .5rem; align-items: center; }
  .toolbar .field-group { margin: 0; padding: 0; }
  .toolbar-actions { justify-self: end; }
  /* make inputs fill their grid cells */
  .start-field .form-input, .end-field .form-input { width: 100%; }
}

/* Strong grid enforcement at 600px to ensure toolbar items align in one row on most desktops */
@media (min-width: 600px) {
  .toolbar { display: grid !important; grid-template-columns: minmax(220px, 1fr) 140px 140px 96px 120px auto; gap: .5rem; align-items: center; }
  .toolbar > * { margin: 0; }
  /* ensure inputs fill their cells and don't use flex sizing */
  .toolbar .form-input { width: 100% !important; flex: none !important; min-width: 0 !important; }
  .start-field .form-input, .end-field .form-input { width: 100% !important; }
  .dir-field, .sort-field { width: auto !important; }
  .toolbar-actions { justify-self: end !important; }
}
